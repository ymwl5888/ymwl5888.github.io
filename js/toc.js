!function(n,f){void 0!==n.IntersectionObserver&&f.querySelectorAll("#toc").forEach(function(e){let s=new Set,o=new Map,a=Array.from(e.querySelectorAll(".menu-list > li > a"));for(var t of a){var r=t.getAttribute("href").trim().slice(1),r=f.getElementById(r);r&&o.set(r,t)}let l=Array.from(o.keys());var i=new IntersectionObserver(t=>{for(var e of t)e.isIntersecting?s.add(e.target):s.delete(e.target);let r;if(s.size?r=[...s].sort((e,t)=>e.offsetTop-t.offsetTop)[0]:l.length&&(r=l.filter(e=>e.offsetTop<n.scrollY).sort((e,t)=>t.offsetTop-e.offsetTop)[0]),r&&o.has(r)){a.forEach(e=>e.classList.remove("is-active"));t=o.get(r);t.classList.add("is-active");let e=t.parentElement.parentElement;for(;e.classList.contains("menu-list")&&"li"===e.parentElement.tagName.toLowerCase();)e.parentElement.children[0].classList.add("is-active"),e=e.parentElement.parentElement}},{threshold:0});for(let r of l)if(i.observe(r),o.has(r)){let t=o.get(r);t.setAttribute("data-href",t.getAttribute("href")),t.setAttribute("href","javascript:;"),t.addEventListener("click",()=>{"function"==typeof r.scrollIntoView&&r.scrollIntoView({behavior:"smooth"});var e=t.getAttribute("data-href");history.pushState?history.pushState(null,null,e):location.hash=e}),r.style.scrollMargin="1em"}})}(window,document);